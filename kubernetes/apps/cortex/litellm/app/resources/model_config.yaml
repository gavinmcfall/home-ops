model_list:
  - model_name: text-embedding-3-small
    provider: openai
    litellm_params:
      model: text-embedding-3-small
      mode: embedding  # Required for embeddings
    api_key: ${OPENAI_API_KEY}
    cost_per_token:
      input: 0.00002   # Modern cost field name
    aliases: [embedding_openai]

  - model_name: gpt-4-turbo
    provider: openai
    litellm_params:
      model: gpt-4-turbo
      max_tokens: 128000  # Recommended for vision
    api_key: ${OPENAI_API_KEY}
    cost_per_token:
      input: 0.01
      output: 0.03
    aliases: [general_openai, vision_openai]
    metadata:
      capabilities: [vision, chat]

  - model_name: claude-3.5-sonnet
    provider: anthropic
    litellm_params:
      model: anthropic/claude-3.5-sonnet-20240620
    api_key: ${ANTHROPIC_API_KEY}
    cost_per_token:
      input: 0.003
      output: 0.015
    aliases: [general_anthropic, vision_anthropic]

  - model_name: gemini-1.5-pro
    provider: google
    litellm_params:
      model: gemini-1.5-pro
    api_key: ${GOOGLE_API_KEY}
    cost_per_token:
      input: 0.00125
      output: 0.005
    aliases: [general_gemini, vision_gemini]

  - model_name: grok-1.5
    provider: xai
    litellm_params:
      model: xai/grok-1.5
      api_base: "https://api.x.ai/v1"  # Required for xAI
    api_key: ${XAI_API_KEY}
    cost_per_token:
      input: 0.003
      output: 0.015
    aliases: [general_xai, vision_xai]

  - model_name: claude-3-sonnet
    provider: bedrock
    litellm_params:
      model: anthropic.claude-3-5-sonnet-20240620-v1:0  # Official Bedrock format
      region_name: ap-southeast-2
    api_key: ${AWS_BEDROCK_API_KEY}
    cost_per_token:
      input: 0.003
      output: 0.015
    aliases: [general_bedrock, vision_bedrock]

  - model_name: deepseek-coder-33b-instruct
    provider: togetherai  # Updated provider name
    litellm_params:
      model: together_ai/deepseek-ai/deepseek-coder-33b-instruct  # Full TogetherAI format
    api_key: ${TOGETHER_API_KEY}
    cost_per_token:
      input: 0.00025
      output: 0.0006
    aliases: [code_fallback_together]

  - model_name: llama3-70b-8192
    provider: groq
    litellm_params:
      model: groq/llama3-70b-8192  # Correct Groq format
    api_key: ${GROQ_API_KEY}
    cost_per_token:
      input: 0.00059
      output: 0.00079
    aliases: [code_fallback_groq]

model_groups:
  vision_tasks:
    - vision_openai
    - vision_anthropic
    - vision_gemini
    - vision_xai
    - vision_bedrock

  code_pipeline:
    - code_fallback_groq
    - code_fallback_together
    - vision_openai  # Assuming vision needed for code diagrams
    - vision_anthropic

  general_tasks:
    - general_openai
    - general_anthropic
    - general_gemini
    - general_bedrock
    - general_xai
